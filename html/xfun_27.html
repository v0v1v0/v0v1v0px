<div class="container">

<table style="width: 100%;"><tr>
<td>download_cache</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download a file from a URL and cache it on disk</h2>

<h3>Description</h3>

<p>This object provides methods to download files and cache them on disk.
</p>


<h3>Usage</h3>

<pre><code class="language-R">download_cache
</code></pre>


<h3>Format</h3>

<p>A list of methods:
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠$get(url, type, handler)⁠</code> downloads a URL, caches it, and returns the file
content according to the value of <code>type</code> (possible values: <code>"text"</code> means
the text content; <code>"base64"</code> means the base64 encoded data; <code>"raw"</code> means
the raw binary content; <code>"auto"</code> is the default and means the type is
determined by the content type in the URL headers). Optionally a <code>handler</code>
function can be applied to the content.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$list()⁠</code> gives the list of cache files.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$summary()⁠</code> gives a summary of existing cache files.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$remove(url, type)⁠</code> removes a single cache file.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$purge()⁠</code> deletes all cache files.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
# the first time it may take a few seconds
x1 = xfun::download_cache$get("https://www.r-project.org/")
head(x1)

# now you can get the cached content
x2 = xfun::download_cache$get("https://www.r-project.org/")
identical(x1, x2)  # TRUE

# a binary file
x3 = xfun::download_cache$get("https://yihui.org/images/logo.png", "raw")
length(x3)

# show a summary
xfun::download_cache$summary()
# remove a specific cache file
xfun::download_cache$remove("https://yihui.org/images/logo.png", "raw")
# remove all cache files
xfun::download_cache$purge()

</code></pre>


</div>