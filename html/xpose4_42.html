<div class="container">

<table style="width: 100%;"><tr>
<td>cat.dv.vs.idv.sb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Categorical observations vs. independent variable using stacked bars.</h2>

<h3>Description</h3>

<p>Categorical observations vs. independent variable using stacked bars.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cat.dv.vs.idv.sb(
  object,
  dv = xvardef("dv", object),
  idv = xvardef("idv", object),
  by = NULL,
  groups = dv,
  force.by.factor = FALSE,
  recur = F,
  xlb = idv,
  ylb = "Proportion",
  subset = NULL,
  vary.width = T,
  level.to.plot = NULL,
  refactor.levels = TRUE,
  main = xpose.create.title.text(idv, dv, "Proportions of", object, subset = subset, ...),
  stack = TRUE,
  horizontal = FALSE,
  strip = function(...) strip.default(..., strip.names = c(TRUE, TRUE)),
  scales = list(),
  inclZeroWRES = TRUE,
  onlyfirst = FALSE,
  samp = NULL,
  aspect = object@Prefs@Graph.prefs$aspect,
  auto.key = "Default",
  mirror = FALSE,
  mirror.aspect = "fill",
  pass.plot.list = FALSE,
  x.cex = NULL,
  y.cex = NULL,
  main.cex = NULL,
  mirror.internal = list(strip.missing = missing(strip)),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Xpose data object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dv</code></td>
<td>
<p>The dependent variable (e.g. <code>"DV"</code> or <code>"CP"</code>.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idv</code></td>
<td>
<p>The independent variable (e.g. <code>"TIME"</code>.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Conditioning variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>How we should group values in each conditional plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force.by.factor</code></td>
<td>
<p>Should we force the data to be treated as factors?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recur</code></td>
<td>
<p>Not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlb</code></td>
<td>
<p>A string giving the label for the x-axis. <code>NULL</code> if none.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylb</code></td>
<td>
<p>A string giving the label for the y-axis. <code>NULL</code> if none.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Subset of data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vary.width</code></td>
<td>
<p>Should we vary the width of the bars to match amount of
information?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.to.plot</code></td>
<td>
<p>Which levels of the DV to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refactor.levels</code></td>
<td>
<p>Should we refactor the levels?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>The title of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stack</code></td>
<td>
<p>Should we stack the bars?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>
<p>Should the bars be horizontal?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strip</code></td>
<td>
<p>Defining how the strips should appear in the conditioning
plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>Scales argument to <code>xyplot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inclZeroWRES</code></td>
<td>
<p>Include rows with WRES=0?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>onlyfirst</code></td>
<td>
<p>Only include first data point for each individual?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samp</code></td>
<td>
<p>Sample to use in mirror plot (a number).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aspect</code></td>
<td>
<p>Aspect argument to <code>xyplot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.key</code></td>
<td>
<p>Make a legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirror</code></td>
<td>
<p>Mirror can be <code>FALSE</code>, <code>TRUE</code>, 1 or 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirror.aspect</code></td>
<td>
<p>Aspect for mirror.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pass.plot.list</code></td>
<td>
<p>Should the plot list be passed back to user?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.cex</code></td>
<td>
<p>Size of x axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.cex</code></td>
<td>
<p>Size of Y axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.cex</code></td>
<td>
<p>Size of Title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirror.internal</code></td>
<td>
<p>Internal stuff.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to function.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Andrew Hooker
</p>


<h3>See Also</h3>

<p>Other specific functions: 
<code>absval.cwres.vs.cov.bw()</code>,
<code>absval.cwres.vs.pred()</code>,
<code>absval.cwres.vs.pred.by.cov()</code>,
<code>absval.iwres.cwres.vs.ipred.pred()</code>,
<code>absval.iwres.vs.cov.bw()</code>,
<code>absval.iwres.vs.idv()</code>,
<code>absval.iwres.vs.ipred()</code>,
<code>absval.iwres.vs.ipred.by.cov()</code>,
<code>absval.iwres.vs.pred()</code>,
<code>absval.wres.vs.cov.bw()</code>,
<code>absval.wres.vs.idv()</code>,
<code>absval.wres.vs.pred()</code>,
<code>absval.wres.vs.pred.by.cov()</code>,
<code>absval_delta_vs_cov_model_comp</code>,
<code>addit.gof()</code>,
<code>autocorr.cwres()</code>,
<code>autocorr.iwres()</code>,
<code>autocorr.wres()</code>,
<code>basic.gof()</code>,
<code>basic.model.comp()</code>,
<code>cat.pc()</code>,
<code>cov.splom()</code>,
<code>cwres.dist.hist()</code>,
<code>cwres.dist.qq()</code>,
<code>cwres.vs.cov()</code>,
<code>cwres.vs.idv()</code>,
<code>cwres.vs.idv.bw()</code>,
<code>cwres.vs.pred()</code>,
<code>cwres.vs.pred.bw()</code>,
<code>cwres.wres.vs.idv()</code>,
<code>cwres.wres.vs.pred()</code>,
<code>dOFV.vs.cov()</code>,
<code>dOFV.vs.id()</code>,
<code>dOFV1.vs.dOFV2()</code>,
<code>data.checkout()</code>,
<code>dv.preds.vs.idv()</code>,
<code>dv.vs.idv()</code>,
<code>dv.vs.ipred()</code>,
<code>dv.vs.ipred.by.cov()</code>,
<code>dv.vs.ipred.by.idv()</code>,
<code>dv.vs.pred()</code>,
<code>dv.vs.pred.by.cov()</code>,
<code>dv.vs.pred.by.idv()</code>,
<code>dv.vs.pred.ipred()</code>,
<code>gof()</code>,
<code>ind.plots()</code>,
<code>ind.plots.cwres.hist()</code>,
<code>ind.plots.cwres.qq()</code>,
<code>ipred.vs.idv()</code>,
<code>iwres.dist.hist()</code>,
<code>iwres.dist.qq()</code>,
<code>iwres.vs.idv()</code>,
<code>kaplan.plot()</code>,
<code>par_cov_hist</code>,
<code>par_cov_qq</code>,
<code>parm.vs.cov()</code>,
<code>parm.vs.parm()</code>,
<code>pred.vs.idv()</code>,
<code>ranpar.vs.cov()</code>,
<code>runsum()</code>,
<code>wres.dist.hist()</code>,
<code>wres.dist.qq()</code>,
<code>wres.vs.idv()</code>,
<code>wres.vs.idv.bw()</code>,
<code>wres.vs.pred()</code>,
<code>wres.vs.pred.bw()</code>,
<code>xpose.VPC()</code>,
<code>xpose.VPC.both()</code>,
<code>xpose.VPC.categorical()</code>,
<code>xpose4-package</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
## read in table files
runno &lt;- 45
xpdb &lt;- xpose.data(runno)

## make some stacked bar plots
cat.dv.vs.idv.sb(xpdb,idv=NULL,stack=F)
cat.dv.vs.idv.sb(xpdb,idv=NULL,stack=F,by="DOSE")
cat.dv.vs.idv.sb(xpdb,idv="DOSE")
cat.dv.vs.idv.sb(xpdb,idv=NULL,stack=F,by="TIME")
cat.dv.vs.idv.sb(xpdb,idv="TIME")
cat.dv.vs.idv.sb(xpdb,idv="CAVH")
cat.dv.vs.idv.sb(xpdb,idv="TIME",by="DOSE",scales=list(x=list(rot=45)))

## make some mirror plots
cat.dv.vs.idv.sb(xpdb,idv="DOSE",mirror=1)
cat.dv.vs.idv.sb(xpdb,idv="CAVH",mirror=1,auto.key=F)

## End(Not run)

</code></pre>


</div>