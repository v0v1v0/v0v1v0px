<div class="container">

<table style="width: 100%;"><tr>
<td>plot.xts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting xts Objects</h2>

<h3>Description</h3>

<p>Plotting for xts objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'xts'
plot(
  x,
  y = NULL,
  ...,
  subset = "",
  panels = NULL,
  multi.panel = FALSE,
  col = 1:8,
  up.col = NULL,
  dn.col = NULL,
  bg = "#FFFFFF",
  type = "l",
  lty = 1,
  lwd = 2,
  lend = 1,
  main = deparse(substitute(x)),
  main.timespan = TRUE,
  observation.based = FALSE,
  log = FALSE,
  ylim = NULL,
  yaxis.same = TRUE,
  yaxis.left = TRUE,
  yaxis.right = TRUE,
  yaxis.ticks = 5,
  major.ticks = "auto",
  minor.ticks = NULL,
  grid.ticks.on = "auto",
  grid.ticks.lwd = 1,
  grid.ticks.lty = 1,
  grid.col = "darkgray",
  labels.col = "#333333",
  format.labels = TRUE,
  grid2 = "#F5F5F5",
  legend.loc = NULL,
  extend.xaxis = FALSE
)

## S3 method for class 'xts'
lines(
  x,
  ...,
  main = "",
  on = 0,
  col = NULL,
  type = "l",
  lty = 1,
  lwd = 1,
  pch = 1
)

## S3 method for class 'xts'
points(x, ..., main = "", on = 0, col = NULL, pch = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A xts object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Not used, always <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any passthrough arguments for <code>lines()</code> and <code>points()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>An ISO8601-style subset string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panels</code></td>
<td>
<p>Character vector of expressions to plot as panels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multi.panel</code></td>
<td>
<p>Either <code>TRUE</code>, <code>FALSE</code>, or an integer less than or equal
to the number of columns in the data set. When <code>TRUE</code>, each column of the
data is plotted in a separate panel. When an integer 'n', the data will be
plotted in groups of 'n' columns per panel and each group will be plotted
in a separate panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Color palette to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>up.col</code></td>
<td>
<p>Color for positive bars when <code>type = "h"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dn.col</code></td>
<td>
<p>Color for negative bars when <code>type = "h"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>Background color of plotting area, same as in <code>par()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of plot to be drawn, same as in <code>plot()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>Set the line type, same as in <code>par()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>Set the line width, same as in <code>par()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lend</code></td>
<td>
<p>Set the line end style, same as in <code>par()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Main plot title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.timespan</code></td>
<td>
<p>Should the timespan of the series be shown in the top
right corner of the plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observation.based</code></td>
<td>
<p>When <code>TRUE</code>, all the observations are equally spaced
along the x-axis. When <code>FALSE</code> (the default) the observations on the x-axis
are spaced based on the time index of the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Should the y-axis be in log scale? Default <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>The range of the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis.same</code></td>
<td>
<p>Should 'ylim' be the same for every panel? Default <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis.left</code></td>
<td>
<p>Add y-axis labels to the left side of the plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis.right</code></td>
<td>
<p>Add y-axis labels to the right side of the plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis.ticks</code></td>
<td>
<p>Desired number of y-axis grid lines. The actual number of
grid lines is determined by the <code>n</code> argument to <code>pretty()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>major.ticks</code></td>
<td>
<p>Period specifying locations for major tick marks and labels
on the x-axis. See Details for possible values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minor.ticks</code></td>
<td>
<p>Period specifying locations for minor tick marks on the
x-axis. When <code>NULL</code>, minor ticks are not drawn. See details for possible
values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.ticks.on</code></td>
<td>
<p>Period specifying locations for vertical grid lines.
See details for possible values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.ticks.lwd</code></td>
<td>
<p>Line width of the grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.ticks.lty</code></td>
<td>
<p>Line type of the grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.col</code></td>
<td>
<p>Color of the grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels.col</code></td>
<td>
<p>Color of the axis labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format.labels</code></td>
<td>
<p>Label format to draw lower frequency x-axis ticks and
labels passed to <code>axTicksByTime()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid2</code></td>
<td>
<p>Color for secondary x-axis grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.loc</code></td>
<td>
<p>Places a legend into one of nine locations on the chart:
bottomright, bottom, bottomleft, left, topleft, top, topright, right, or
center. Default <code>NULL</code> does not draw a legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extend.xaxis</code></td>
<td>
<p>When <code>TRUE</code>, extend the x-axis before and/or after the
plot's existing time index range, so all of of the time index values of
the new series are included in the plot. Default <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on</code></td>
<td>
<p>Panel number to draw on. A new panel will be drawn if <code>on = NA</code>.
The default, <code>on = 0</code>, will add to the active panel. The active panel is
defined as the panel on which the most recent action was performed. Note
that only the first element of <code>on</code> is checked for the default behavior to
add to the last active panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>the plotting character to use, same as in 'par'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Possible values for arguments <code>major.ticks</code>, <code>minor.ticks</code>, and
<code>grid.ticks.on</code> include ‘auto’, ‘minute’, ‘hours’,
‘days’, ‘weeks’, ‘months’, ‘quarters’, and
‘years’. The default is ‘auto’, which attempts to determine
sensible locations from the periodicity and locations of observations. The
other values are based on the possible values for the <code>ticks.on</code>
argument of <code>axTicksByTime()</code>.
</p>


<h3>Author(s)</h3>

<p>Ross Bennett
</p>


<h3>References</h3>

<p>based on <code>chart_Series()</code> in <span class="pkg">quantmod</span>
written by Jeffrey A. Ryan
</p>


<h3>See Also</h3>

<p><code>addSeries()</code>, <code>addPanel()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
data(sample_matrix)
sample.xts &lt;- as.xts(sample_matrix)

# plot the Close
plot(sample.xts[,"Close"])

# plot a subset of the data
plot(sample.xts[,"Close"], subset = "2007-04-01/2007-06-31")

# function to compute simple returns
simple.ret &lt;- function(x, col.name){
  x[,col.name] / lag(x[,col.name]) - 1
}

# plot the close and add a panel with the simple returns
plot(sample.xts[,"Close"])
R &lt;- simple.ret(sample.xts, "Close")
lines(R, type = "h", on = NA)

# add the 50 period simple moving average to panel 1 of the plot
library(TTR)
lines(SMA(sample.xts[,"Close"], n = 50), on = 1, col = "blue")

# add month end points to the chart
points(sample.xts[endpoints(sample.xts[,"Close"], on = "months"), "Close"], 
       col = "red", pch = 17, on = 1)

# add legend to panel 1
addLegend("topright", on = 1, 
          legend.names = c("Close", "SMA(50)"), 
          lty = c(1, 1), lwd = c(2, 1),
          col = c("black", "blue", "red"))

## End(Not run)

</code></pre>


</div>